*************************************************************
***** Detailed change log - since version 1.2           *****
***** In chronological order, oldest to newest          *****
***** For detailed changes see jhead on github:         *****
******       https://github.com/Matthias-Wandel/jhead   *****
*************************************************************

Jun 6 2023:
Bumped version number to 3.08 after going thru some accumulated github issues.

Jun 3 2021 - Jun 2023:
Fix various "issues" people have found with fuzz testing.  
These can only be produced when running jhead in some memory access testing setup
such as ASAN and throwing carefully crafted garbage at it, causing jhead to read
some bytes past memory it malloced.  no real life consequences.

Also some spelling fixes and other stuff, but no new features.

Jun 3 2001:
Added -dc option for deleting all comments

Jun 5 2001:
No longer clip comment length at 200 characters on display

Jul 16 2001
Follow TIFF link correctly
Save thumbnail option added
    (Thanks Michal D Hughes for his help mdh(a)logcabin.woods.bridge.com)

Aug 8 & 9 2001
Transfer exif header option added.
Moved relative path & discard all but jpeg stuff in separate functions
Changed ISO heuristic to deal with ISo < 80 better
    (Thanks Harry TsaiHarryTsai(a)alum.mit.edu)

August 12 2001
Testing under Linux, minor fixups.

-------Released version 1.3-------

August 26 2001
Fixed problem where thumbnails in big endian files were not saved right.
    (thanks Joe Steele [joe(a)madewell.com])

Sept 1 2001
Added command line option to remove exif section entirely.
Added time / time-zone adjust option.

Sept 9 2001
Avoid renaming file with right name again with -n option
Change name of SetFileTime variable to not conflict with windows.

Oct 9 2001
Added option to set exif timestamp to absolute time
Added option to save thumbnail to stdout (unix only)
    (thanks Nathan Schmidt [mailto:nathan(a)cs.stanford.edu])
Fixed bug in parsing truncated exif headers
    (thanks Joachim.Geyer(a)djh-freeweb.de)
Got rid of strnprintf (not available on FreeBSD 4.4)

-------Released version 1.4-------

Oct 10 2001
More improved handling of truncated exif headers - as may be produced
by -dt option in older versions of this program.

Oct 18 2001
Fixed bug in -ts option where '-' causes scanf to treat parms as negative.
    (thanks Pete Ashdon [mailto:pashdown(a)xmission.com])

Oct 25 2001
Added -ce option

-------Released version 1.5-------

Dec 26 2001
Added -V (version) option
Added -exonly (exif only) option


Jan 2 2002:
Fixed lots of typos (Thanks, David Baker [mailto:dave(a)dsb3.com])

Jan 12: 2002
Use EDITOR environment variable to pick which editor (Instead of notepad or VI)

Jan 13: 2002
Improved thumbnail deletion feature - now not just shortens the header, but
also removes pointers to the thumbnail form the exif header.


-------Released version 1.6-------

Jan 29 2002
Use adjusted date instead of original date when -ta is used in combination
with -ft or -n options

Feb 25 2002
Added image orientation display to summary

April 22 2002
Changed 35mm equivalent focal calculation to use 36mm instead of 35mm for 35mm
negative width (35 mm negative frames are 36 mm wide)

April 28 2002
Split jhead.c int jhead.c and jpgfile.c.  Jpgfile.c contains jpeg manipulation
code that is reusable outside of jhead, while jhead.c contains code specific
to jhead (command line parsing, display)

May 11 2002
Fix bug in -dt option that rears its ugly head if the directories are in the
exif header out of order.

-------Released version 1.7-------

June 3 2002
Ignore undefined bits of "flash used" tag, as cannon sets them nonzero, causing
jhead to indicate flash used when it wasn't with some Canon models.

Jul 7 2002
-------Released version 1.8-------

Sept 8 2002
makehtml now also lists .avi files as video clips

Sept 11 2002
Handle first IFD offset != 8, as comes out of Pentax Optio 230 camera.

Sept 13 2002
Show 4 digits of past decimal if exposure time is less than 0.01 sec.

Sept 25 2002
Integrate patch from James R Van Zandt to allow inclusion of original name
when '%f' is part of rename format string.

Dec 11 2002
-------Released version 1.9-------

Oct 8 2002
Minor changes where newlines are printed.
Added check to warn about wiping out the originals with the -st option.

Oct 9 2002
Fixed display of "flash used=no" for exif headers generated by photoshop.

Oct 13 2002
Added -ci and -cs options.

March 3 2003
Limit directory recursion depth to avoid crashing on circularly linked
directories within the Exif header.

April 6 2003
Added automatic rotation (-autorotate) to right-up images that contain
a rotation tag from the camera.

*Finally* wrote a nice MAN page for jhead.

-------Released version 2.0 -- April 2003 -------

Dec ?? 2003
Set all copies of the date to same value when setting or modifying.
(I intentionally only set one, but too may people considered this a bug)

Dec 28 2003
fixed unix makefile

Dec 29 2003
added -cl (insert comment literal) option

Jan 8 2004
Added -norot (zero out rotation tag) option

-------Released version 2.1 -- Jan 2004 -------

Jan 12
Added handling of explicit 35mm equivalent tag
fixed inconsistency in computing 35 mm equivalent focal lengths between
concise and regular output.

Jan 17
Implemented option to suppress file date display, for regression tests.

Feb 1
Better indentation of verbose option, rudimentary canon maker not parsing

March
Various spelling errors fixed in output strings, and
jpeg --> JPEG, exif --> Exif

April 13
Use '-outfile' command line option of jpegtran when launching jpegtran to
do rotation so that syntax of launched command is same on Windows and Unix.

April 19
Various spelling fixes in manpage.

Jun 20
Added ability to do sequential renaming ('%i' in format string for -n option)

-------Released version 2.2 -- Jun 2004 ----------

Handle some oddities - like '/' separators in date fields, or images with
an orientation tag for the thumbnail.

Increase maximum number of jpeg sections to 40 from 20

Dec 3
Don't try to write to readonly files.
Use changed copy of date/time for rename and file time set operations

Dec 25
Added -purejpg and -du options

Dec 28
More details on flash usage.
Show digital zoom ratio
Don't show jpeg process if it's baseline (almost always is)

-------Released version 2.3 -- Jan 2005 ----------

Jan 14 2005
Display GPS info if included in image

Feb 27 2004
Fix some time reference confusion bugs relating to -ta option

May 29 2005
Added -da option for easier adjusting of date/time by large amounts.

-------Released version 2.4 -- May 2005 ----------

Jun 06 2005
Fix -da option

-------Released version 2.4-1 -- Jun 09 2005 --------

Jun 10 2005
Removed some debug printf I accidentally left in!

-------Released version 2.4-2 -- Jun 10 2005 --------

August 8 2005
Avoid duplicating exif header on some commands

Sept 11 2005
Fix up return codes.

Oct  8 2005
Preserve file permissions and time when files are modified.

Oct 29 2005
Read ISO equivalent and white balance from canon makernote

Nov 5 2005
Added -rt (replace thumbnail) feature, and rotate the thumbnail also
when using the -autorot feature

Dec 28 2005
Added -rgt (regenerate thumbnail) feature.
Added -orp and -orl options

-------Released version 2.5 -- Jan 8 2006 --------
Jan 28 2006
Fix typecast issue run itno with GCC 4

Feb 17 2006
Fix shutter speed display in '-c' mode for very long shutter speeds

Feb 26 2006
Fix some nitpicks from Debian folks

Mar 6 2006
Fix a bug in autorot when rotating filenames with spaces in them.

April 2 2006
Improved handling of corrupt exif linkages in exif header

April 3 2006
Added -a (rename associated files) options

-------Released version 2.6 -- April 29 2006 --------

Sept 9 2006
Remove maximum jpeg sections limit

Sept 10 2006
Added -ds option

Oct 18 2006
On clearing rotation, clear the image and the optional thumbnail rotation tags.
(some viewers use the wrong tag)

Dec 29 2006
Add -mkexif option to make a new exif header.

-------Released version 2.7 -- Jan 11 2007 --------

Feb 10 2007
Added IPTC handling

Feb 11 2007
Added -q option

Feb 17 2007
Fix handling of corrupted GPS directory.

Feb 18 2007
Extract focus distance from canon makernote.

Jun 3 2007
Extract subject range (pentax and fuji cameras)

-------Released version 2.8 -- Nov 13 2007 --------

Feb 14 2008
Fix it so it no longer deletes XMP sections
Improve IPTC handling a little

March 3 2008
Change how date is encoded with -mkexif section to make it more compatible.
Make jhead aware of XMP data and not delete it.

-------Released version 2.82 -- Apr 03 2008 --------

May 8 2008
Decode more exif tags for '-v' mode.

Sep 23 2008
Fix a bunch of potential string overflows

Oct 1 2008
Fix bug where IPTC section was not deleted by -purejpg
Fix GPS altitude decode bug

-------Released version 2.84 -- Oct 4 2008 --------

Jan 15 2008
Fix bug with -ce introduced as a result of putting all the security
checks the debian people wanted.

Feb 2 2008
Added the ability to move files with the -n option. (makes directories if necessary)

Various minor typo and documentation fixes.

-------Released version 2.86 -- Feb 14 2009 --------

Fixed an #ifdef that I had defined the wrong way, causing the -ce option to fail.

-------Released version 2.87 -- Mar 03 2009 --------

May 2009:
A few more tags recognized with jhead -v
Accept strange date encoding of LG VX-9700
Fix metering mode display
Fix crash bug on corrupted jpeg
Deal better with extra padding bytes between jpeg markers

Nov 3 2009:
Now preserve resolution units of jfif header, or set them with info from exif header.

-------Released version 2.88 -- Nov 6 2009 --------

Dec 16 2009:
Handle slightly different signature in IPTC as well.

Jan 25 2010:
Handle mixed-endian-ness files from newer Canon point ant shoot cameras.

Jan 26 2010:
More handling of IPTC variants.

-------Released version 2.90 -- Feb 5 2010 --------
May 7 2010:
Fix a compiler warning

Dec 29 2010:
Make -n behave like -nf, and get rid of that option.

Dec 2 2011:
Handle IPTC in UTF8 (as per photoshop CS5)

-------Released version 2.93 -- Dec 3 2011 --------

Jan 24 2011:
Fixed bug in jhead -cmd that caused metadata to be deleted.

-------Released version 2.94 -- Jan 24 2012 --------

Mar 3 2011:
Handle very large unsigned rational numbers in exif header

-------Released version 2.95 -- Mar 16 2012 --------

Jun 18 2012:
Fix printing file info when -ft option is used
Do not skip readonly files with -st option

-------Released version 2.96 -- Jun 22 2012 --------

Jul 9 2012:
Make it compile clean with visual studio 10

Jul 28 2012:
Various cleanups from debian folks.

Oct 19 2012:
Add feature to show quality of jpeg, (by Andy Spiegel)

Dec 27 2012:
Fix crash on some corrupt files bug, clarify time adjustment syntax in help


-------Released version 2.97 -- Jan 30 2013 --------
Jun 10 2013:
Make max comment size 16000

Oct 25 2013:
Added "-zt" option to trim 32k of trailing zeroes from Nikon 1 J2 and J3 images.

Sep 28 2014:
Add ability to reset invalid rotation tag (from Moultrie game cameras)

-------Released version 3.0 -- Feb 2 2015 --------
Ma4 5 2015:
Add option to set exif date from date from another file.

Jul 28 2015:
Remove some unnecessary warnings with some types of GPS data

Aug 4 2015:
Remove multiple copies of the same type of section when deleting section types

Aug 11 2011:
Bug fixes relating to fuzz testing.

Aug 1 2017:
Fix bug when no orientation tag is present

Aug 12 2018:
Fix bug of not clearing exif information when processing images with an without
exif data in one invocation.

-------Released version 3.02 -- Dec 11 2018 --------

Dec 21 2018:
Fix bug where thumbnail replacement DID NOT WORK.
(broke while fixing compiler warnings for 3.02 release)

-------Released version 3.03 -- Dec 31 2018 --------

Nov 20 2019:
Apply a whole bunch of patches from Debian.
Spell check and fuzz test stuff from Debian, nothing useful to human users.

-------Released version 3.04 -- Nov 22 2019 --------

Migrated to GitHub.
Mostly remove support for windows XP specific tags (nobody used them, didn't work on linux)
Make tests suite run on linux, included in github.
Bumped version number to 3.05

Various fixes to fuzz test fails -- all fails involve reading beyond allocated
memory when fed specific garbage files, and only fail with memory tools
tools like "electric fence" to catch them.

-------Bumped version to 3.06 -- Mar 24 2021
